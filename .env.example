# SEO Website Audit Configuration

# ============================================
# SERVER CONFIGURATION
# ============================================

# Server port (default: 3000)
SERVER_PORT=3000

# MongoDB connection URI (default: mongodb://localhost:27017/seo-audit)
MONGODB_URI=mongodb://localhost:27017/seo-audit

# Job retention period in hours (default: 24)
# Completed jobs older than this will be deleted daily
JOB_RETENTION_HOURS=24

# ============================================
# CRAWL LIMITS
# ============================================

# Maximum number of pages to crawl (default: 100)
# Reduced from 500 to prevent timeouts on large sites
CRAWL_MAX_REQUESTS=100

# Maximum concurrent requests (default: 3)
# Reduced from 5 to prevent overwhelming servers
CRAWL_MAX_CONCURRENCY=3

# ============================================
# TIMEOUT SETTINGS (in milliseconds)
# ============================================

# Page navigation timeout (default: 30000 = 30 seconds)
# How long to wait for a page to load before timing out
NAVIGATION_TIMEOUT=30000

# HTTP request timeout (default: 30000 = 30 seconds)
# How long to wait for HTTP requests (sitemap, etc.)
REQUEST_TIMEOUT=30000

# Sitemap fetch timeout (default: 15000 = 15 seconds)
# How long to wait when fetching sitemap.xml
SITEMAP_TIMEOUT=15000

# ============================================
# RETRY SETTINGS
# ============================================

# Maximum number of retries for failed requests (default: 2)
MAX_RETRIES=2

# ============================================
# DEBUG MODE
# ============================================

# Enable debug logging (default: false)
# Set to "true" to see detailed step-by-step logging
# Useful for diagnosing timeout and freeze issues
DEBUG=false

# ============================================
# PERFORMANCE OPTIMIZATIONS
# ============================================

# Block unnecessary resources to speed up crawling (default: true)
# Set to "false" to load all resources (slower but more accurate)
BLOCK_RESOURCES=true

# Block images (default: true)
# Images don't affect SEO checks, blocking them speeds up crawling significantly
BLOCK_IMAGES=true

# Block stylesheets/CSS (default: false)
# CSS might affect some SEO checks, so it's loaded by default
# Set to "true" for faster crawling if CSS doesn't affect your SEO rules
BLOCK_STYLESHEETS=false

# Block fonts (default: true)
# Fonts don't affect SEO checks
BLOCK_FONTS=true

# Block media files (default: true)
# Videos and audio files don't affect SEO checks
BLOCK_MEDIA=true

# Page load wait strategy (default: domcontentloaded)
# Options:
#   - "domcontentloaded" (fastest, waits for HTML to load)
#   - "load" (slower, waits for all resources including images)
#   - "networkidle" (slowest, waits for network to be idle)
# For SEO audits, "domcontentloaded" is usually sufficient
WAIT_UNTIL=domcontentloaded

# ============================================
# USAGE EXAMPLES
# ============================================

# For small websites (< 50 pages):
# CRAWL_MAX_REQUESTS=50
# CRAWL_MAX_CONCURRENCY=5
# NAVIGATION_TIMEOUT=20000

# For medium websites (50-200 pages):
# CRAWL_MAX_REQUESTS=200
# CRAWL_MAX_CONCURRENCY=3
# NAVIGATION_TIMEOUT=30000

# For large websites (> 200 pages):
# CRAWL_MAX_REQUESTS=500
# CRAWL_MAX_CONCURRENCY=2
# NAVIGATION_TIMEOUT=45000

# For debugging timeout issues:
# DEBUG=true
# CRAWL_MAX_REQUESTS=10
# CRAWL_MAX_CONCURRENCY=1
# NAVIGATION_TIMEOUT=60000

